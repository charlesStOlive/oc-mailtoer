# ===================================
#  Form Field Definitions
# ===================================
fields:
    subject:
        label: waka.mailtoer::wakamailto.subject
        span: left
        permissions: [waka.mailtoer.*]
    state:
        label: waka.mailtoer::wakamailto.state
        span: right
        type: balloon-selector
        required: true
        options: listStates
        default: Brouillon
        permissions: [waka.mailtoer.admin.*]
tabs:
    defaultTab: waka.mailtoer::wakaMailto.tab_edit
    icons: 
        waka.mailtoer::wakamailto.tab_info: icon-info-circle
        waka.mailtoer::wakamailto.tab_edit: icon-pencil
        waka.mailtoer::wakamailto.tab_options: icon-cog
    fields:    
        render_mode_html:
            label: waka.mailtoer::wakamailto.render_mode_html
            span: full
            type: switch
            comment: waka.mailtoer::wakamailto.render_mode_html_com
            permissions: [waka.mailtoer.admin.super]
            tab: waka.mailtoer::wakamailto.tab_edit
        content:
            label: waka.mailtoer::wakamailto.content
            span: full
            type: codeeditor
            size: giant
            language: html
            dependson: render_mode_html
            permissions: [waka.mailtoer.admin.super]
            tab: waka.mailtoer::wakamailto.tab_edit
        rule_asks:
            label: waka.mailtoer::wakamailto.rule_asks
            span: full
            type: rulebuilder
            targetProductor: wakaMailto
            full_access: waka.rules.asks.admin
            ruleMode: ask
            showAttributes: true
            permissions: [waka.rules.asks.*]
            tab: waka.mailtoer::wakamailto.tab_edit
        rule_fncs:
            label: waka.mailtoer::wakamailto.rule_fncs
            span: full
            type: rulebuilder
            targetProductor: wakaMailto
            full_access: waka.rules.fncs.admin
            ruleMode: ask
            showAttributes: true
            permissions: [waka.rules.fncs.*]
            tab: waka.mailtoer::wakamailto.tab_edit
        rule_conditions:
            label: waka.mailtoer::wakamailto.rule_conditions
            span: full
            type: rulebuilder
            ruleMode: condition
            targetProductor: wakaMailto
            permissions: [waka.mailtoer.admin.super]
            tab: waka.mailtoer::wakamailto.tab_options
        waka_session:
            label: waka.mailtoer::wakamailto.waka_session
            span: full
            type: partial
            path: field_waka_session
            permissions: [waka.mailer.admin.super]
            tab: waka.mailtoer::wakamailto.tab_session
secondaryTabs:
    fields:
        # info:
        #     type: modelinfo
        #     mode: secondary
        #     src: /waka/mailtoer/models/wakamailto/fields_for_side_bar.yaml
        infos:
            span: full
            type: modelinfo
            permissions: [waka.mailtoer.admin.*]
            tab: waka.mailtoer::wakamailto.tab_infos
            src: waka/mailtoer/models/wakamailto/fields_for_side_bar.yaml
        attributs:
            span: full
            type: attributs
            permissions: [waka.mailtoer.admin.*]
            tab: waka.mailtoer::wakamailto.tab_attributs
